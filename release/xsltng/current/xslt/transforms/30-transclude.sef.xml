<?xml version="1.0" encoding="utf-8"?>
<package xmlns='http://ns.saxonica.com/xslt/export' xmlns:fn='http://www.w3.org/2005/xpath-functions' xmlns:java-type='http://saxon.sf.net/java-type' xmlns:vv='http://saxon.sf.net/generated-variable' xmlns:xs='http://www.w3.org/2001/XMLSchema' when='2022-10-01T10:21:38.665998+01:00' id='0' version='30' packageVersion='1' saxonProduct='SAXON-EE' saxonVersion='11.4' buildDateTime='2022-10-01T10:21:38.666322+01:00' target='HE' targetVersion='1' relocatable='true' implicit='true'>
 <co id='0' binds='1 2 3 4'>
  <function name='Q{http://docbook.org/ns/docbook/functions/private}new-xml-id' line='171' module='30-transclude.xsl' eval='7' flags='pU' as='?NA' slots='2'>
   <arg name='Q{}node' as='1NE'/>
   <choose role='body' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='174'>
    <fn name='exists'>
     <slash simple='1'>
      <varRef name='Q{}node' slot='0'/>
      <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}id'/>
     </slash>
    </fn>
    <let line='175' var='Q{}idfixup' slot='1' eval='16'>
     <treat line='134' as='AS' diag='5|0|XTTE0780|fp:idfixup#1'>
      <check card='1' diag='5|0|XTTE0780|fp:idfixup#1'>
       <cvUntyped to='AS' diag='5|0|XTTE0780|fp:idfixup#1'>
        <data diag='5|0|XTTE0780|fp:idfixup#1'>
         <first>
          <sequence>
           <slash simple='1'>
            <slash>
             <varRef line='175' name='Q{}node' slot='0'/>
             <first>
              <filter flags='b'>
               <axis name='ancestor-or-self' nodeTest='NE'/>
               <fn name='exists'>
                <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
               </fn>
              </filter>
             </first>
            </slash>
            <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
           </slash>
           <gVarRef name='Q{}idfixup' bSlot='0'/>
          </sequence>
         </first>
        </data>
       </cvUntyped>
      </check>
     </treat>
     <choose line='177'>
      <vc op='eq' onEmpty='0' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
       <varRef name='Q{}idfixup' slot='1'/>
       <str val='suffix'/>
      </vc>
      <att line='178' name='xml:id' nsuri='http://www.w3.org/XML/1998/namespace'>
       <fn name='normalize-space'>
        <fn name='concat'>
         <slash>
          <varRef name='Q{}node' slot='0'/>
          <attVal name='Q{http://www.w3.org/XML/1998/namespace}id' chk='0'/>
         </slash>
         <ufCall name='Q{http://docbook.org/ns/docbook/functions/private}suffix' tailCall='false' bSlot='1' eval='1'>
          <varRef name='Q{}node' slot='0'/>
         </ufCall>
        </fn>
       </fn>
      </att>
      <vc line='180' op='eq' onEmpty='0' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
       <varRef name='Q{}idfixup' slot='1'/>
       <str val='auto'/>
      </vc>
      <att line='181' name='xml:id' nsuri='http://www.w3.org/XML/1998/namespace'>
       <fn name='normalize-space'>
        <fn name='concat'>
         <slash>
          <varRef name='Q{}node' slot='0'/>
          <attVal name='Q{http://www.w3.org/XML/1998/namespace}id' chk='0'/>
         </slash>
         <gVarRef name='Q{}psep' bSlot='2'/>
         <ufCall name='Q{http://docbook.org/ns/docbook/functions}unique-id' tailCall='false' bSlot='3' eval='1'>
          <varRef name='Q{}node' slot='0'/>
         </ufCall>
        </fn>
       </fn>
      </att>
      <true/>
      <slash line='184' simple='1'>
       <varRef name='Q{}node' slot='0'/>
       <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}id'/>
      </slash>
     </choose>
    </let>
   </choose>
  </function>
 </co>
 <co id='5' binds=''>
  <globalVariable name='Q{http://docbook.org/ns/docbook/variables/private}gidmap' as='1FM k[AS] v[1AS]' line='51' module='shared.xsl' visibility='PRIVATE'>
   <map size='30'>
    <str val='preface'/>
    <str val='p'/>
    <str val='bibliography'/>
    <str val='bi'/>
    <str val='figure'/>
    <str val='fig'/>
    <str val='section'/>
    <str val='s'/>
    <str val='colophon'/>
    <str val='co'/>
    <str val='glossdiv'/>
    <str val='gd'/>
    <str val='glossentry'/>
    <str val='ge'/>
    <str val='appendix'/>
    <str val='ap'/>
    <str val='book'/>
    <str val='bo'/>
    <str val='example'/>
    <str val='ex'/>
    <str val='reference'/>
    <str val='ref'/>
    <str val='equation'/>
    <str val='eq'/>
    <str val='chapter'/>
    <str val='ch'/>
    <str val='sect1'/>
    <str val='s1_'/>
    <str val='table'/>
    <str val='tab'/>
    <str val='sect2'/>
    <str val='s2_'/>
    <str val='sect3'/>
    <str val='s3_'/>
    <str val='sect4'/>
    <str val='s4_'/>
    <str val='sect5'/>
    <str val='s5_'/>
    <str val='procedure'/>
    <str val='proc'/>
    <str val='part'/>
    <str val='part'/>
    <str val='glossterm'/>
    <str val='gt'/>
    <str val='dedication'/>
    <str val='ded'/>
    <str val='acknowledgements'/>
    <str val='ack'/>
    <str val='bibliodiv'/>
    <str val='bd'/>
    <str val='refsect1'/>
    <str val='rs1'/>
    <str val='refsect2'/>
    <str val='rs2'/>
    <str val='refsect3'/>
    <str val='rs3'/>
    <str val='glossary'/>
    <str val='g'/>
    <str val='refentry'/>
    <str val='re'/>
   </map>
  </globalVariable>
 </co>
 <co id='1' binds=''>
  <globalParam name='Q{}idfixup' as='1AS' line='19' module='30-transclude.xsl' visibility='PUBLIC'>
   <str val='none'/>
  </globalParam>
 </co>
 <co id='2' binds=''>
  <function name='Q{http://docbook.org/ns/docbook/functions/private}suffix' line='143' module='30-transclude.xsl' eval='16' flags='pU' as='1AS' slots='2'>
   <arg name='Q{}node' as='1NE'/>
   <treat role='body' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='148' as='AS' diag='5|0|XTTE0780|fp:suffix#1'>
    <check card='1' diag='5|0|XTTE0780|fp:suffix#1'>
     <cvUntyped to='AS' diag='5|0|XTTE0780|fp:suffix#1'>
      <data diag='5|0|XTTE0780|fp:suffix#1'>
       <iterate>
        <slash role='select' line='147'>
         <varRef name='Q{}node' slot='0'/>
         <fn name='reverse'>
          <filter flags='b'>
           <axis name='ancestor-or-self' nodeTest='NE'/>
           <or op='or'>
            <fn name='exists'>
             <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}suffix'/>
            </fn>
            <fn name='exists'>
             <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
            </fn>
           </or>
          </filter>
         </fn>
        </slash>
        <params role='params' line='149'>
         <param name='Q{}suffix' slot='1'>
          <str role='select' val=''/>
          <supplied role='conversion' slot='1'/>
         </param>
        </params>
        <varRef role='on-completion' line='150' name='Q{}suffix' slot='1'/>
        <choose role='action' line='152'>
         <vc op='eq' onEmpty='0' comp='CCC'>
          <cast flags='ae' as='?AS'>
           <attVal name='Q{http://docbook.org/ns/transclusion}idfixup' chk='0'/>
          </cast>
          <str val='none'/>
         </vc>
         <nextIteration line='154'>
          <withParam name='Q{}suffix' as='1AS' slot='1'>
           <str val=''/>
          </withParam>
         </nextIteration>
         <fn line='157' name='exists'>
          <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}suffix'/>
         </fn>
         <nextIteration line='159'>
          <withParam name='Q{}suffix' as='1AS' slot='1'>
           <fn name='concat'>
            <data diag='0|0||fn:concat'>
             <varRef name='Q{}suffix' slot='1'/>
            </data>
            <attVal name='Q{http://docbook.org/ns/transclusion}suffix' chk='0'/>
           </fn>
          </withParam>
         </nextIteration>
         <true/>
         <nextIteration line='164'>
          <withParam name='Q{}suffix' slot='1'>
           <varRef name='Q{}suffix' slot='1'/>
          </withParam>
         </nextIteration>
        </choose>
       </iterate>
      </data>
     </cvUntyped>
    </check>
   </treat>
  </function>
 </co>
 <co id='6' binds='7 2 8 9 9'>
  <template name='Q{http://docbook.org/ns/docbook/templates/private}fixup-ids' flags='os' as='*AS' line='87' module='30-transclude.xsl' slots='9'>
   <sequence role='body' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='88'>
    <param name='Q{}idlist' slot='0' flags='r' as='1AS'>
     <treat role='conversion' as='AS' diag='8|0|XTTE0590|idlist'>
      <check card='1' diag='8|0|XTTE0590|idlist'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|idlist'>
        <data diag='8|0|XTTE0590|idlist'>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='90' var='Q{}this' as='*NE' slot='1' eval='4'>
     <slash simple='1'>
      <treat as='N' diag='14|9|XPTY0020|'>
       <dot flags='a'/>
      </treat>
      <axis name='parent' nodeTest='NE'/>
     </slash>
     <let line='92' var='Q{}linkscope' slot='2' eval='16'>
      <treat line='140' as='AS' diag='5|0|XTTE0780|fp:linkscope#1'>
       <check card='1' diag='5|0|XTTE0780|fp:linkscope#1'>
        <cvUntyped to='AS' diag='5|0|XTTE0780|fp:linkscope#1'>
         <data diag='5|0|XTTE0780|fp:linkscope#1'>
          <first>
           <sequence>
            <slash simple='1'>
             <slash>
              <check line='92' card='1' diag='0|0||fp:linkscope'>
               <varRef name='Q{}this' slot='1'/>
              </check>
              <first>
               <filter flags='b'>
                <axis name='ancestor-or-self' nodeTest='NE'/>
                <fn name='exists'>
                 <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}linkscope'/>
                </fn>
               </filter>
              </first>
             </slash>
             <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}linkscope'/>
            </slash>
            <gVarRef name='Q{}linkscope' bSlot='0'/>
           </sequence>
          </first>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <let line='103' var='Q{http://saxon.sf.net/generated-variable}v2' as='1AB' slot='3' eval='13'>
       <vc op='eq' onEmpty='0' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
        <varRef name='Q{}linkscope' slot='2'/>
        <str val='near'/>
       </vc>
       <let line='100' var='Q{http://saxon.sf.net/generated-variable}v1' as='1AB' slot='4' eval='13'>
        <vc op='eq' onEmpty='0' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
         <varRef name='Q{}linkscope' slot='2'/>
         <str val='local'/>
        </vc>
        <let line='97' var='Q{http://saxon.sf.net/generated-variable}v0' as='1AB' slot='5' eval='13'>
         <vc op='eq' onEmpty='0' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
          <varRef name='Q{}linkscope' slot='2'/>
          <str val='user'/>
         </vc>
         <forEach line='94'>
          <fn name='tokenize'>
           <varRef name='Q{}idlist' slot='0'/>
           <str val='\s+'/>
           <str val=''/>
          </fn>
          <let line='95' var='Q{}id' as='1' slot='6' eval='16'>
           <dot type='1AS'/>
           <choose line='97'>
            <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='5'/>
            <varRef line='98' name='Q{}id' slot='6'/>
            <varRef line='100' name='Q{http://saxon.sf.net/generated-variable}v1' slot='4'/>
            <fn line='101' name='concat'>
             <varRef name='Q{}id' slot='6'/>
             <ufCall name='Q{http://docbook.org/ns/docbook/functions/private}suffix' tailCall='false' bSlot='1' eval='16'>
              <check card='1' diag='0|0||fp:suffix'>
               <varRef name='Q{}this' slot='1'/>
              </check>
             </ufCall>
            </fn>
            <varRef line='103' name='Q{http://saxon.sf.net/generated-variable}v2' slot='3'/>
            <let line='104' var='Q{}nearest' slot='7' eval='7'>
             <ufCall name='Q{http://docbook.org/ns/docbook/functions/private}nearest-element-with-id' tailCall='false' bSlot='2' eval='16 1'>
              <check card='1' diag='0|0||fp:nearest-element-with-id'>
               <varRef name='Q{}this' slot='1'/>
              </check>
              <varRef name='Q{}id' slot='6'/>
             </ufCall>
             <choose line='106'>
              <fn name='exists'>
               <varRef name='Q{}nearest' slot='7'/>
              </fn>
              <ufCall line='107' name='Q{http://docbook.org/ns/docbook/functions/private}new-id' tailCall='false' bSlot='3' eval='16'>
               <treat as='NE' diag='0|0||fp:new-id'>
                <check card='1' diag='0|0||fp:new-id'>
                 <varRef name='Q{}nearest' slot='7'/>
                </check>
               </treat>
              </ufCall>
              <true/>
              <sequence line='110'>
               <message>
                <fn role='select' name='concat'>
                 <str val='No element with id '/>
                 <varRef name='Q{}id' slot='6'/>
                </fn>
                <str role='terminate' val='no'/>
                <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
               </message>
               <varRef line='111' name='Q{}id' slot='6'/>
              </sequence>
             </choose>
            </let>
            <true/>
            <let line='116' var='Q{}first' as='?N' slot='8' eval='7'>
             <first>
              <fn name='key'>
               <str val='id'/>
               <varRef name='Q{}id' slot='6'/>
               <check card='1' diag='0|2||fn:key'>
                <fn name='root'>
                 <check card='?' diag='0|0||fn:root'>
                  <varRef name='Q{}this' slot='1'/>
                 </check>
                </fn>
               </check>
              </fn>
             </first>
             <choose line='118'>
              <fn name='exists'>
               <varRef name='Q{}first' slot='8'/>
              </fn>
              <ufCall line='119' name='Q{http://docbook.org/ns/docbook/functions/private}new-id' tailCall='false' bSlot='4' eval='16'>
               <treat as='NE' diag='0|0||fp:new-id'>
                <check card='1' diag='0|0||fp:new-id'>
                 <varRef name='Q{}first' slot='8'/>
                </check>
               </treat>
              </ufCall>
              <true/>
              <sequence line='122'>
               <message>
                <fn role='select' name='concat'>
                 <str val='No element with id '/>
                 <varRef name='Q{}id' slot='6'/>
                </fn>
                <str role='terminate' val='no'/>
                <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
               </message>
               <varRef line='123' name='Q{}id' slot='6'/>
              </sequence>
             </choose>
            </let>
           </choose>
          </let>
         </forEach>
        </let>
       </let>
      </let>
     </let>
    </let>
   </sequence>
  </template>
 </co>
 <co id='10' binds='1 11 12'>
  <mode onNo='TC' flags='dW' patternSlots='0'>
   <templateRule prec='1' prio='-0.5' seq='0' rank='0' minImp='0' slots='0' matches='ND' flags='s' as='1ND' line='30' module='30-transclude.xsl'>
    <p.nodeTest role='match' test='ND'/>
    <check role='action' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='31' card='1' diag='7|0|XTTE0505|match="/"'>
     <sequence>
      <choose>
       <and op='and'>
        <fn name='not'>
         <compareToString op='eq' val='suffix'>
          <gVarRef name='Q{}idfixup' bSlot='0'/>
         </compareToString>
        </fn>
        <gVarRef name='Q{}suffix' bSlot='1'/>
       </and>
       <treat line='32' as='ND' diag='7|0|XTTE0505|match="/"'>
        <message>
         <valueOf role='select'>
          <str val='Invalid idfixup/suffix combination; ignoring initial suffix.'/>
         </valueOf>
         <str role='terminate' val='no'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <doc line='34'>
       <applyT line='35' mode='Q{http://docbook.org/ns/docbook/modes/private}transclude' flags='i' bSlot='2'>
        <axis role='select' name='child' nodeTest='N'/>
       </applyT>
      </doc>
     </sequence>
    </check>
   </templateRule>
  </mode>
 </co>
 <co id='13' binds='14'>
  <globalVariable name='Q{http://saxon.sf.net/generated-variable}gg1928312257' as='1AS' line='66' module='shared.xsl' visibility='PRIVATE'>
   <treat ns='=http://www.w3.org/1999/xhtml db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions m=http://docbook.org/ns/docbook/modes map=~ vp=http://docbook.org/ns/docbook/variables/private xs=~ xsl=~ xml=~' line='66' as='AS' diag='5|0|XTTE0780|f:generate-id#2'>
    <check card='1' diag='5|0|XTTE0780|f:generate-id#2'>
     <cvUntyped to='AS' diag='5|0|XTTE0780|f:generate-id#2'>
      <data diag='5|0|XTTE0780|f:generate-id#2'>
       <gVarRef name='Q{}generated-id-root' bSlot='0'/>
      </data>
     </cvUntyped>
    </check>
   </treat>
  </globalVariable>
 </co>
 <co id='14' binds=''>
  <globalParam name='Q{}generated-id-root' as='*' line='14' module='shared.xsl' visibility='PUBLIC'>
   <str val='R'/>
  </globalParam>
 </co>
 <co id='4' binds='15'>
  <function name='Q{http://docbook.org/ns/docbook/functions}unique-id' line='87' module='shared.xsl' eval='16' flags='pmU' as='1AS' slots='1'>
   <arg name='Q{}node' as='1NE'/>
   <tailCallLoop role='body' ns='=http://www.w3.org/1999/xhtml db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions m=http://docbook.org/ns/docbook/modes map=~ vp=http://docbook.org/ns/docbook/variables/private xs=~ xsl=~ xml=~' line='89'>
    <ufCall name='Q{http://docbook.org/ns/docbook/functions}generate-id' tailCall='foreign' bSlot='0' eval='1 0'>
     <varRef name='Q{}node' slot='0'/>
     <false/>
    </ufCall>
   </tailCallLoop>
  </function>
 </co>
 <co id='12' binds='16 6 6 0 12'>
  <mode name='Q{http://docbook.org/ns/docbook/modes/private}transclude' onNo='TC' flags='W' patternSlots='0'>
   <templateRule prec='1' prio='100.0' seq='4' rank='3' minImp='0' slots='0' matches='NA nQ{http://docbook.org/ns/transclusion}*' flags='s' line='65' module='30-transclude.xsl'>
    <p.nodeTest role='match' test='NA nQ{http://docbook.org/ns/transclusion}*'/>
    <empty role='action'/>
   </templateRule>
   <templateRule prec='1' prio='20.0' seq='5' rank='2' minImp='0' slots='1' matches='NA' flags='s' line='69' module='30-transclude.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='NA'/>
     <gc ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='69' op='=' card='N:1' comp='GAC|http://www.w3.org/2005/xpath-functions/collation/codepoint'>
      <gVarRef name='Q{}idref-list' bSlot='0'/>
      <fn name='node-name'>
       <dot type='1NA'/>
      </fn>
     </gc>
    </p.withPredicate>
    <let role='action' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='70' var='Q{}fixedup-values' as='*AS' slot='0' eval='9'>
     <callT line='71' name='Q{http://docbook.org/ns/docbook/templates/private}fixup-ids' bSlot='1'>
      <withParam name='Q{}idlist' flags='c' as='1AS'>
       <cvUntyped line='72' to='AS' diag='8|0|XTTE0590|idlist'>
        <data diag='8|0|XTTE0590|idlist'>
         <dot type='1NA' flags='a'/>
        </data>
       </cvUntyped>
      </withParam>
     </callT>
     <compAtt line='75'>
      <fn role='name' name='string'>
       <convert from='AQ' to='AS'>
        <fn name='node-name'>
         <dot type='1NA' flags='a'/>
        </fn>
       </convert>
      </fn>
      <fn role='select' name='string-join'>
       <varRef name='Q{}fixedup-values' slot='0'/>
       <str val=' '/>
      </fn>
     </compAtt>
    </let>
   </templateRule>
   <templateRule prec='1' prio='10.0' seq='2' rank='1' minImp='0' slots='0' matches='NA' flags='s' line='57' module='30-transclude.xsl'>
    <p.nodeTest role='match' test='NA'/>
    <copyOf role='action' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='58' flags='sc'>
     <dot type='1NA' flags='a'/>
    </copyOf>
   </templateRule>
   <templateRule prec='1' prio='20.0' seq='6' rank='2' minImp='0' slots='1' matches='NA nQ{http://www.w3.org/1999/xlink}href' flags='s' line='78' module='30-transclude.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='NA nQ{http://www.w3.org/1999/xlink}href'/>
     <fn ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='78' name='starts-with'>
      <cvUntyped to='AS'>
       <data diag='0|0||fn:starts-with'>
        <dot type='1NA nQ{http://www.w3.org/1999/xlink}href'/>
       </data>
      </cvUntyped>
      <str val='#'/>
     </fn>
    </p.withPredicate>
    <let role='action' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='79' var='Q{}fixedup-values' as='*AS' slot='0' eval='9'>
     <callT line='80' name='Q{http://docbook.org/ns/docbook/templates/private}fixup-ids' bSlot='2'>
      <withParam name='Q{}idlist' flags='c' as='1AS'>
       <fn line='81' name='substring'>
        <cvUntyped to='AS'>
         <data diag='0|0||fn:substring'>
          <dot type='1NA nQ{http://www.w3.org/1999/xlink}href' flags='a'/>
         </data>
        </cvUntyped>
        <int val='2'/>
       </fn>
      </withParam>
     </callT>
     <compAtt line='84'>
      <fn role='name' name='string'>
       <convert from='AQ' to='AS'>
        <fn name='node-name'>
         <dot type='1NA nQ{http://www.w3.org/1999/xlink}href' flags='a'/>
        </fn>
       </convert>
      </fn>
      <fn role='select' name='concat'>
       <str val='#'/>
       <fn name='string-join'>
        <varRef name='Q{}fixedup-values' slot='0'/>
        <str val=' '/>
       </fn>
      </fn>
     </compAtt>
    </let>
   </templateRule>
   <templateRule prec='1' prio='100.0' seq='3' rank='3' minImp='0' slots='0' matches='NA nQ{http://www.w3.org/XML/1998/namespace}id' flags='s' line='61' module='30-transclude.xsl'>
    <p.nodeTest role='match' test='NA nQ{http://www.w3.org/XML/1998/namespace}id'/>
    <ufCall role='action' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='62' name='Q{http://docbook.org/ns/docbook/functions/private}new-xml-id' tailCall='false' bSlot='3' eval='16'>
     <check card='1' diag='0|0||fp:new-xml-id'>
      <axis name='parent' nodeTest='NE'/>
     </check>
    </ufCall>
   </templateRule>
   <templateRule prec='1' prio='-0.5' seq='1' rank='0' minImp='0' slots='0' matches='N' flags='s' line='39' module='30-transclude.xsl'>
    <p.nodeTest role='match' test='N u[NC,NE,NT,NP]'/>
    <sequence role='action' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='40'>
     <choose>
      <and op='and'>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <cast flags='ae' as='?AS'>
         <data diag='1|0||='>
          <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
         </data>
        </cast>
        <str val='suffix'/>
       </vc>
       <fn name='empty'>
        <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}suffix'/>
       </fn>
      </and>
      <message line='41'>
       <valueOf role='select'>
        <str val='Invalid idfixup/suffix combination; suffix is undefined.'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <choose line='43'>
      <and op='and'>
       <fn name='exists'>
        <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}suffix'/>
       </fn>
       <vc op='ne' onEmpty='1' comp='CCC'>
        <cast flags='ae' as='?AS'>
         <data diag='1|0||='>
          <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
         </data>
        </cast>
        <str val='suffix'/>
       </vc>
      </and>
      <message line='44'>
       <valueOf role='select'>
        <str val='Invalid idfixup/suffix combination; suffix will be ignored.'/>
       </valueOf>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <choose line='47'>
      <and op='and'>
       <fn name='exists'>
        <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
       </fn>
       <fn name='not'>
        <gc op='=' card='N:1' comp='CCC'>
         <literal count='3'>
          <str val='none'/>
          <str val='auto'/>
          <str val='suffix'/>
         </literal>
         <data diag='1|0||='>
          <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
         </data>
        </gc>
       </fn>
      </and>
      <message line='49'>
       <fn role='select' name='concat'>
        <str val='Unsupported @trans:idfixup value '/>
        <data diag='0|1||fn:concat'>
         <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
        </data>
        <str val='; results are undefined.'/>
       </fn>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </choose>
     <copy line='53' flags='cin' sit='1N u[NC,NE,NT,NP]'>
      <applyT role='content' mode='Q{http://docbook.org/ns/docbook/modes/private}transclude' bSlot='4'>
       <sequence role='select'>
        <axis name='attribute' nodeTest='NA'/>
        <axis name='child' nodeTest='N u[NC,NE,NT,NP]'/>
       </sequence>
      </applyT>
     </copy>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='11' binds=''>
  <globalParam name='Q{}suffix' as='1AS' line='21' module='30-transclude.xsl' visibility='PUBLIC'>
   <str val=''/>
  </globalParam>
 </co>
 <co id='7' binds=''>
  <globalParam name='Q{}linkscope' as='1AS' line='20' module='30-transclude.xsl' visibility='PUBLIC'>
   <str val='global'/>
  </globalParam>
 </co>
 <co id='3' binds=''>
  <globalParam name='Q{}psep' as='1AS' line='18' module='30-transclude.xsl' visibility='PUBLIC'>
   <str val='---'/>
  </globalParam>
 </co>
 <co id='9' binds='0'>
  <function name='Q{http://docbook.org/ns/docbook/functions/private}new-id' line='190' module='30-transclude.xsl' eval='8' flags='pU' as='?AS' slots='1'>
   <arg name='Q{}node' as='1NE'/>
   <fn role='body' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='192' name='string'>
    <ufCall name='Q{http://docbook.org/ns/docbook/functions/private}new-xml-id' tailCall='false' bSlot='0' eval='1'>
     <varRef name='Q{}node' slot='0'/>
    </ufCall>
   </fn>
  </function>
 </co>
 <co id='17' binds=''>
  <globalParam name='Q{}generated-id-sep' as='*' line='18' module='shared.xsl' visibility='PUBLIC'>
   <str val='_'/>
  </globalParam>
 </co>
 <co id='15' binds='13 15 17 5'>
  <function name='Q{http://docbook.org/ns/docbook/functions}generate-id' line='58' module='shared.xsl' eval='16' flags='pmU' as='1AS' slots='3'>
   <arg name='Q{}node' as='1NE'/>
   <arg name='Q{}use-xml-id' as='1AB'/>
   <choose role='body' ns='=http://www.w3.org/1999/xhtml db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions m=http://docbook.org/ns/docbook/modes map=~ vp=http://docbook.org/ns/docbook/variables/private xs=~ xsl=~ xml=~' line='62'>
    <and op='and'>
     <varRef name='Q{}use-xml-id' slot='1'/>
     <fn name='exists'>
      <slash simple='1'>
       <varRef name='Q{}node' slot='0'/>
       <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}id'/>
      </slash>
     </fn>
    </and>
    <check line='63' card='1' diag='5|0|XTTE0780|f:generate-id#2'>
     <slash>
      <slash simple='1'>
       <varRef name='Q{}node' slot='0'/>
       <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}id'/>
      </slash>
      <fn name='string'>
       <dot type='1NA nQ{http://www.w3.org/XML/1998/namespace}id'/>
      </fn>
     </slash>
    </check>
    <fn line='65' name='empty'>
     <slash simple='1'>
      <varRef name='Q{}node' slot='0'/>
      <axis name='parent' nodeTest='NE'/>
     </slash>
    </fn>
    <gVarRef name='Q{http://saxon.sf.net/generated-variable}gg1928312257' bSlot='0'/>
    <true/>
    <let line='73' var='Q{http://saxon.sf.net/generated-variable}v0' as='?AQ' slot='2' eval='13'>
     <fn name='node-name'>
      <varRef name='Q{}node' slot='0'/>
     </fn>
     <fn line='69' name='concat'>
      <ufCall name='Q{http://docbook.org/ns/docbook/functions}generate-id' tailCall='false' bSlot='1' eval='16 1'>
       <check card='1' diag='0|0||f:generate-id'>
        <slash simple='1'>
         <varRef name='Q{}node' slot='0'/>
         <axis name='parent' nodeTest='NE'/>
        </slash>
       </check>
       <varRef name='Q{}use-xml-id' slot='1'/>
      </ufCall>
      <data line='75' diag='0|1||fn:concat'>
       <gVarRef name='Q{}generated-id-sep' bSlot='2'/>
      </data>
      <check line='71' card='1' diag='3|0||type'>
       <first>
        <sequence>
         <ifCall name='Q{http://www.w3.org/2005/xpath-functions/map}get' type='*'>
          <gVarRef name='Q{http://docbook.org/ns/docbook/variables/private}gidmap' bSlot='3'/>
          <fn name='local-name'>
           <varRef name='Q{}node' slot='0'/>
          </fn>
         </ifCall>
         <fn name='local-name'>
          <varRef name='Q{}node' slot='0'/>
         </fn>
        </sequence>
       </first>
      </check>
      <fn line='75' name='string'>
       <arith op='+' calc='i+i'>
        <fn name='count'>
         <slash line='73'>
          <varRef name='Q{}node' slot='0'/>
          <filter flags='b'>
           <axis name='preceding-sibling' nodeTest='NE'/>
           <vc op='eq' onEmpty='0' comp='EQC'>
            <fn name='node-name'>
             <dot type='1NE'/>
            </fn>
            <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='2'/>
           </vc>
          </filter>
         </slash>
        </fn>
        <int val='1'/>
       </arith>
      </fn>
     </fn>
    </let>
   </choose>
  </function>
 </co>
 <co id='8' binds='8'>
  <function name='Q{http://docbook.org/ns/docbook/functions/private}nearest-element-with-id' line='195' module='30-transclude.xsl' eval='7' flags='pU' as='?N' slots='2'>
   <arg name='Q{}context' as='1N'/>
   <arg name='Q{}id' as='1AS'/>
   <tailCallLoop role='body' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='200'>
    <choose>
     <fn name='empty'>
      <varRef name='Q{}context' slot='0'/>
     </fn>
     <empty/>
     <fn line='203' name='exists'>
      <filter flags='b'>
       <slash simple='1'>
        <varRef name='Q{}context' slot='0'/>
        <axis name='descendant' nodeTest='NE'/>
       </slash>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <cast flags='ae' as='?AS'>
         <attVal name='Q{http://www.w3.org/XML/1998/namespace}id' chk='0'/>
        </cast>
        <varRef name='Q{}id' slot='1'/>
       </vc>
      </filter>
     </fn>
     <first line='204'>
      <filter flags='b'>
       <slash simple='1'>
        <varRef name='Q{}context' slot='0'/>
        <axis name='descendant' nodeTest='NE'/>
       </slash>
       <vc op='eq' onEmpty='0' comp='CCC'>
        <cast flags='ae' as='?AS'>
         <attVal name='Q{http://www.w3.org/XML/1998/namespace}id' chk='0'/>
        </cast>
        <varRef name='Q{}id' slot='1'/>
       </vc>
      </filter>
     </first>
     <fn line='206' name='empty'>
      <slash simple='1'>
       <varRef name='Q{}context' slot='0'/>
       <axis name='parent' nodeTest='NE'/>
      </slash>
     </fn>
     <empty/>
     <true/>
     <ufCall line='210' name='Q{http://docbook.org/ns/docbook/functions/private}nearest-element-with-id' tailCall='self' bSlot='0' eval='16 1'>
      <check card='1' diag='0|0||fp:nearest-element-with-id'>
       <slash simple='1'>
        <varRef name='Q{}context' slot='0'/>
        <axis name='parent' nodeTest='NE'/>
       </slash>
      </check>
      <varRef name='Q{}id' slot='1'/>
     </ufCall>
    </choose>
   </tailCallLoop>
  </function>
 </co>
 <co id='18' binds='7'>
  <function name='Q{http://docbook.org/ns/docbook/functions/private}linkscope' line='137' module='30-transclude.xsl' eval='16' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}node' as='1NE'/>
   <treat role='body' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='140' as='AS' diag='5|0|XTTE0780|fp:linkscope#1'>
    <check card='1' diag='5|0|XTTE0780|fp:linkscope#1'>
     <cvUntyped to='AS' diag='5|0|XTTE0780|fp:linkscope#1'>
      <data diag='5|0|XTTE0780|fp:linkscope#1'>
       <first>
        <sequence>
         <slash simple='1'>
          <slash>
           <varRef name='Q{}node' slot='0'/>
           <first>
            <filter flags='b'>
             <axis name='ancestor-or-self' nodeTest='NE'/>
             <fn name='exists'>
              <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}linkscope'/>
             </fn>
            </filter>
           </first>
          </slash>
          <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}linkscope'/>
         </slash>
         <gVarRef name='Q{}linkscope' bSlot='0'/>
        </sequence>
       </first>
      </data>
     </cvUntyped>
    </check>
   </treat>
  </function>
 </co>
 <co id='16' binds=''>
  <globalVariable name='Q{}idref-list' as='+AQ' line='26' module='30-transclude.xsl' visibility='PRIVATE'>
   <literal count='8'>
    <qName pre='' uri='' loc='linkend'/>
    <qName pre='' uri='' loc='linkends'/>
    <qName pre='' uri='' loc='otherterm'/>
    <qName pre='' uri='' loc='zone'/>
    <qName pre='' uri='' loc='startref'/>
    <qName pre='' uri='' loc='arearefs'/>
    <qName pre='' uri='' loc='targetptr'/>
    <qName pre='' uri='' loc='endterm'/>
   </literal>
  </globalVariable>
 </co>
 <co id='19' binds='1'>
  <function name='Q{http://docbook.org/ns/docbook/functions/private}idfixup' line='131' module='30-transclude.xsl' eval='16' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}node' as='1NE'/>
   <treat role='body' ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='134' as='AS' diag='5|0|XTTE0780|fp:idfixup#1'>
    <check card='1' diag='5|0|XTTE0780|fp:idfixup#1'>
     <cvUntyped to='AS' diag='5|0|XTTE0780|fp:idfixup#1'>
      <data diag='5|0|XTTE0780|fp:idfixup#1'>
       <first>
        <sequence>
         <slash simple='1'>
          <slash>
           <varRef name='Q{}node' slot='0'/>
           <first>
            <filter flags='b'>
             <axis name='ancestor-or-self' nodeTest='NE'/>
             <fn name='exists'>
              <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
             </fn>
            </filter>
           </first>
          </slash>
          <axis name='attribute' nodeTest='NA nQ{http://docbook.org/ns/transclusion}idfixup'/>
         </slash>
         <gVarRef name='Q{}idfixup' bSlot='0'/>
        </sequence>
       </first>
      </data>
     </cvUntyped>
    </check>
   </treat>
  </function>
 </co>
 <co id='20' binds='15'>
  <function name='Q{http://docbook.org/ns/docbook/functions}generate-id' line='53' module='shared.xsl' eval='16' flags='pmU' as='1AS' slots='1'>
   <arg name='Q{}node' as='1NE'/>
   <tailCallLoop role='body' ns='=http://www.w3.org/1999/xhtml db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions m=http://docbook.org/ns/docbook/modes map=~ vp=http://docbook.org/ns/docbook/variables/private xs=~ xsl=~ xml=~' line='55'>
    <ufCall name='Q{http://docbook.org/ns/docbook/functions}generate-id' tailCall='foreign' bSlot='0' eval='1 0'>
     <varRef name='Q{}node' slot='0'/>
     <true/>
    </ufCall>
   </tailCallLoop>
  </function>
 </co>
 <overridden/>
 <key name='Q{}id' line='28' module='30-transclude.xsl' binds='' flags='u'>
  <p.nodeTest test='NE'/>
  <attVal ns='db=http://docbook.org/ns/docbook f=http://docbook.org/ns/docbook/functions fp=http://docbook.org/ns/docbook/functions/private map=~ mp=http://docbook.org/ns/docbook/modes/private tp=http://docbook.org/ns/docbook/templates/private trans=http://docbook.org/ns/transclusion xlink=http://www.w3.org/1999/xlink xs=~ xsl=~ xml=~' line='28' name='Q{http://www.w3.org/XML/1998/namespace}id' chk='0'/>
 </key>
 <output>
  <property name='Q{http://saxon.sf.net/}stylesheet-version' value='30'/>
 </output>
 <decimalFormat/>
</package>
<?Σ 5e2257a8?>
